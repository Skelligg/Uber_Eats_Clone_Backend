### Get access token with admin user

POST http://localhost:8180/realms/keepdishesgoing/protocol/openid-connect/token HTTP/1.1
Content-Type: application/x-www-form-urlencoded

client_id=backend-client&client_secret=IfOsqR0GHoUYmj0GlxJ6nUcx6Hm8SxxE&username=owner&password=owner&grant_type=password

//saving the access token
> {%
    client.global.set("access_token", response.body.access_token);
%}

###

GET http://localhost:8080/api/restaurants
Accept: application/json
Authorization: Bearer {{access_token}}

###

GET http://localhost:8080/api/foodmenus/11111111-1111-1111-1111-111111111111/dishes HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{access_token}}


### Create restaurant (owner must be authenticated)
POST http://localhost:8080/api/restaurants
Content-Type: application/json

{
  "ownerId": "11111111-1111-1111-1111-111111111117",
  "ownerName": "Michael Johnson",
  "name": "Pizza Roma",
  "address": {
    "street": "Jezusstraat",
    "number": "32",
    "postalCode": "2000",
    "city": "Antwerp",
    "country": "Belgium"
  },
  "emailAddress": "contact@pizzaroma.be",
  "pictures": [
    "https://orders.co/static/99a59eec0735fca313bf2b93349bd5d6/5715c/Italian-Restaurant-Design-Creating-an-Inviting-Ambiance.webp"],
  "cuisineType": "ITALIAN",
  "minPrepTime": 15,
  "maxPrepTime": 25,
  "openingTime": "12:00",
  "closingTime": "23:00",
  "openDays": [
    "MONDAY",
    "FRIDAY",
    "SATURDAY",
    "SUNDAY"
  ]
}

###

POST http://localhost:8080/api/foodmenus/dishes
Content-Type: application/json

{
  "restaurantId": "8190ad66-4811-4a4b-8215-e419fe07e4fa",
  "name": "Pizza",
  "description": "yummy cheese and tomato sauce",
  "price": 14.99,
  "pictureUrl": "noPic",
  "tags": "italian,cheese,fast-food",
  "dishType": "MAIN"
}

###

PATCH http://localhost:8080/api/foodmenus/8190ad66-4811-4a4b-8215-e419fe07e4fa/dishes/48cff9bd-e2f5-4a06-9810-55e81c071ecd/publish

###

GET http://localhost:8080/api/restaurants/375686e5-2edb-40b2-805e-15da931ca25d/orders

###

PATCH http://localhost:8080/api/foodmenus/8190ad66-4811-4a4b-8215-e419fe07e4fa/dishes/48cff9bd-e2f5-4a06-9810-55e81c071ecd
Content-Type: application/json

{
  "name": "Sushi",
  "description": "CHANGED",
  "price": 1000,
  "pictureUrl": "CHANGED",
  "tags": "CHANGED",
  "dishType": "DESSERT"
}
###

PATCH http://localhost:8080/api/foodmenus/b52bd8cb-4f06-49df-948b-a5424ba0e964/dishes/0824212d-adf0-4d11-981d-5b5938e1ae59/unpublish

###

PATCH http://localhost:8080/api/foodmenus/11111111-1111-1111-1111-111111111111/dishes/aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa1/out-of-stock
Authorization: Bearer {{access_token}}

###

PATCH http://localhost:8080/api/foodmenus/11111111-1111-1111-1111-111111111111/dishes/aaaaaaa1-aaaa-aaaa-aaaa-aaaaaaaaaaa2/available
Authorization: Bearer {{access_token}}

###

POST http://localhost:8080/api/foodmenus/dishes
Content-Type: application/json

{
  "restaurantId": "b52bd8cb-4f06-49df-948b-a5424ba0e964",
  "name": "Scrambled Eggs",
  "description": "delicious egg scramble",
  "price": 3.99,
  "pictureUrl": "noPic",
  "tags": "breakfast,cheese,fast-food",
  "dishType": "STARTER"
}

###

PATCH http://localhost:8080/api/foodmenus/b52bd8cb-4f06-49df-948b-a5424ba0e964/dishes/b15263ac-267c-449f-8ab9-7867a960c088
Content-Type: application/json

{
  "name": "2ND CHANGE",
  "description": "SECOND",
  "price": 1000,
  "pictureUrl": "SECOND",
  "tags": "SECOND",
  "dishType": "DESSERT"
}
###

###

POST http://localhost:8080/api/foodmenus/11111111-1111-1111-1111-111111111111/dishes/apply-pending

###

PATCH http://localhost:8080/api/foodmenus/dishes/schedule
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "restaurantId": "11111111-1111-1111-1111-111111111111",
  "dishIds": [
    "aaaaaaa2-aaaa-aaaa-aaaa-aaaaaaaaaaa3"
  ],
  "publicationTime": "2025-10-30T17:56:00",
  "stateToBecome": "PUBLISHED"
}

###

PATCH http://localhost:8080/api/restaurants/orders/fc0a728f-fa75-4fc1-b6e8-8f115a340da5/accept
Authorization: Bearer {{access_token}}
